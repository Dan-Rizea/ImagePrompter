@page "/"
@using Microsoft.EntityFrameworkCore.Metadata.Internal

@inject ISessionLogicService _sessionLogicService;
@inject ISessionDataService _sessionDataService;

@code {
    /// <summary>
    /// Create a new session and navigate to it.
    /// </summary>
    /// <returns></returns>
    protected override async Task OnInitializedAsync()
    {
        var initializedSession = await _sessionLogicService.InitializeSessionAsync();
        _sessionDataService.CurrentSession = initializedSession; 
        _sessionDataService.CurrentSessionVersion = initializedSession.SessionVersions.FirstOrDefault()!;
    }
}