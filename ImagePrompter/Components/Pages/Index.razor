@page "/"
@using Microsoft.EntityFrameworkCore.Metadata.Internal

@inject ISessionLogicService _sessionLogicService;
@inject NavigationManager _navigationManager;

@code {
    /// <summary>
    /// Create a new session and navigate to it.
    /// </summary>
    /// <returns></returns>
    protected override async Task OnInitializedAsync()
    {
        var initializedSession = await _sessionLogicService.InitializeSessionAsync(false);

        _navigationManager.NavigateTo($"/{initializedSession.SessionId}/{initializedSession.SessionVersions.FirstOrDefault().Name}");
    }
}